<app-officer-navbar></app-officer-navbar>
<div class="delivery-status-container">
    <div class="booking-id-input" *ngIf="!booking">
        <h3>Enter Booking ID</h3>
        <div class="form-group">
            <label for="bookingId">Booking ID</label>
            <input type="text" id="bookingId" [(ngModel)]="bookingId" placeholder="Enter Booking ID" required />
        </div>
        <button type="button" (click)="loadBooking()" class="action-button">
            Load Booking
        </button>
        <div *ngIf="errorMessage" class="error-message">
            {{ errorMessage }}
        </div>
    </div>

    <div *ngIf="booking">
        <div class="detail-row">
            <span class="label">Current Status:</span>
            <span>{{ booking.currentStatus }}</span>
        </div>
        <div class="detail-row">
            <span class="label">Last Updated:</span>
            <span>{{ booking.lastUpdated | date: 'medium' }}</span>
        </div>

        <div class="status-update-form">
            <h3>Update Status</h3>
            <div class="form-group">
                <label for="newStatus">New Status</label>
                <select id="newStatus" [(ngModel)]="newStatus" required>
                    <option value="">Select Status</option>
                    <option value="Picked up">Picked up</option>
                    <option value="In Transit">In Transit</option>
                    <option value="Delivered">Delivered</option>
                    <option value="Returned">Returned</option>
                </select>
            </div>
            <button type="button" (click)="updateStatus()" class="action-button">
                Update Status
            </button>
        </div>

        <div *ngIf="successMessage" class="success-message">
            {{ successMessage }}
        </div>
        <div *ngIf="errorMessage" class="error-message">
            {{ errorMessage }}
        </div>
    </div>
</div>